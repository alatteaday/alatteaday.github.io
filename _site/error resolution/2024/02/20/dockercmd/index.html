<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!--site.title site.tagline-->
  <title>
    
      Docker 명령어 정리 &middot; Coffee chats
    
  </title>

  
  <link rel="canonical" href="https://alatteaday.github.io/error%20resolution/2024/02/20/dockercmd/">
  

  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/poole.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/syntax.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://alatteaday.github.io/public/favicon.ico/apple-touch-icon.png">
  <link rel="shortcut icon" href="https://alatteaday.github.io/public/favicon.ico/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://alatteaday.github.io/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Curation of studies, techs, ideas and her journey as a maching learning engineer</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="https://alatteaday.github.io/">Home</a>

    

    
    
      
        
        
      
    
      
        
        
      
    
      
        
          <a class="sidebar-nav-item" 
          href="https://alatteaday.github.io/about/">About</a>
        
        
      
    
      
    
      
        
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/CV/">Computer Vision</a>
        
      
    
      
        
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/NLP/">Natural Language Processing</a>
        
      
    
      
        
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/bio/">Biomedical AI</a>
        
      
    
      
        
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/error/">Error Resolution</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" 
          href="https://alatteaday.github.io/tags/">Tags</a>
        
        
      
    
    <!--
    <a class="sidebar-nav-item" href="/archive/v1.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span> 
    -->
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2024. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <!--site.title site.tagline-->
    <div class="wrap">
      <div class="masthead">
        <div class="container" >
          <h3 class="masthead-title">
            <a href="/" title="Home">Coffee chats</a>
            <small>with strangers</small>
          </h3>
          <div class="lang-switcher">
    
    
        
<a href="/en/error%20resolution/2024/02/20/dockercmd/">eng</a>
        
    

    
    
kor
    

</div>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Docker 명령어 정리</h1>
  <p class="post-date">20 Feb 2024&nbsp;&nbsp;&nbsp;&nbsp;
    <!--<span class="post-date">20 Feb 2024</span>-->
    
      
        
          <span class="tag">
            <a href=".">
              #docker
            </a>
          </span>
        
      
    
  </p>
  <h2 id="image-검색">Image 검색</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker search (OPTIONS) [IMAGE_NAME]
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">--automated=false</code>  Automated Build만 표시</p>

<p><code class="language-plaintext highlighter-rouge">--no-trunc=false</code>  모든 결과 표시</p>

<p><code class="language-plaintext highlighter-rouge">-s=n</code> <code class="language-plaintext highlighter-rouge">--stars=n</code>  star 수가 n개 이상인 image만 표시</p>

<p>e.g. docker search –stars=100 mysql</p>

<h4 id="image-다운로드">Image 다운로드</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull (OPTIONS) [IMAGE_NAME](:TAG)
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-a</code>  해당 image의 모든 version 다운로드</p>

<p><code class="language-plaintext highlighter-rouge">TAG_NAME</code>  다운로드하고자 하는 version 정보, 지정하지 않으면 제일 최신 version(latest) 다운로드</p>

<p>e.g. docker pull ubuntu:22.04</p>

<ul>
  <li>docker hub가 아닌</li>
</ul>

<h4 id="image-list-확인">Image list 확인</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker images (OPTIONS) (REPOSITORY)
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-a</code> <code class="language-plaintext highlighter-rouge">--all</code>  모든 image 표시</p>

<p><code class="language-plaintext highlighter-rouge">--digests</code>  digest 표시</p>

<p><code class="language-plaintext highlighter-rouge">-q</code> <code class="language-plaintext highlighter-rouge">--quiet</code>  image ID만 표시</p>

<p>*container list 확인  <code class="language-plaintext highlighter-rouge">docker ps</code></p>

<h4 id="image-세부-정보-확인">Image 세부 정보 확인</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image inspect [IMAGE_ID]
</code></pre></div></div>

<p>Image ID로 접근하여 확인. full ID를 입력하지 않고 일부만 입력해도 된다.</p>

<h4 id="image-삭제">Image 삭제</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi (OPTION) [IMAGE_NAME](:TAG)
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-f</code>  실행 중인 container의 image를 강제 삭제, 그러나 실질적으로 untagging만 되고 image와 container 모두 제대로 삭제되지 않으니 사용 X</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">[IMAGE_NAME_1] [IMAGE_NAME_2] ...</code>  image 여러 개 한 번에 삭제 가능</p>
  </li>
  <li>
    <p><strong>특정 image의 실행 중인 container를 모두 종료시킨 후 image 삭제</strong></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rm -f $(docker ps -a --filter ancestor=[IMAGE_NAME])
docker rmi [IMAGE_NAME]
</code></pre></div>    </div>

    <p><code class="language-plaintext highlighter-rouge">$(CMD)</code></p>
  </li>
</ul>

<h4 id="image-저장로드">Image 저장/로드</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker save -o [DIRECTORY] [IMAGE_NAME]
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-o</code>  image를 저장할 디렉토리(output)를 지정</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker load -i [DIRECTORY] 
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-i</code>  불러올 image의 디렉토리(input)를 지정, 해당 디렉토리 내 image가 로드됨</p>

<h4 id="image-태그-지정">Image 태그 지정</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag [IMAGE_NAME]:[TAG] [NEW_NAME]:[NEW_TAG]
</code></pre></div></div>

<p>존재하는 image를 복사하여 새로운 이름과 tag으로 참조 가능하게 함</p>

<p>e.g. docker tag ubuntu:22.04 abcd:0.1</p>

<h4 id="container-list-확인">Container list 확인</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps (OPTION)
</code></pre></div></div>

<p>실행 중인 container들 확인</p>

<p><code class="language-plaintext highlighter-rouge">-a</code>  실행 여부와 상관 없이 (종료된 것까지) 모든 container 확인</p>

<h4 id="container-세부-정보-확인">Container 세부 정보 확인</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker inspect [CONTAINER_NAME]
</code></pre></div></div>

<h4 id="image에서-container-실행">Image에서 Container 실행</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run (OPTIONS) [IMAGE_NAME] 
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">--name [CONTAINER_NAME]</code>  container 이름 설정</p>

<p><code class="language-plaintext highlighter-rouge">--rm</code>  <code class="language-plaintext highlighter-rouge">run</code>명령어 수행 후 container 삭제. container 일회성 사용</p>

<p><code class="language-plaintext highlighter-rouge">-it</code>  container에 터미널 입력을 계속해서 전달</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-i</code>  container 접속하지 않은 상태에서도 stdin 활성화</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-t</code>  pseudo-TTY 할당(TTY모드 사용), 쉘에 명령어 작성</p>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">-d</code>  container 백그라운드 실행. 옵션 입력 시 실행된 container id가 출력됨</p>

<p><code class="language-plaintext highlighter-rouge">-e</code>  container에 환경변수 추가. 추가하고 싶은 환경변수만큼 사용해야 한다.</p>

<ul>
  <li>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -e APP_ENV=production APP2_ENV=dev ubuntu:22.04 env
</code></pre></div>    </div>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">-p [HOST_PORT]:[CONTAINER_PORT]</code>  호스트에 연결된 container의 특정 포트를 호스트의 포트와 binding하기 위해 사용. 보통 웹서버의 포트를 외부로 노출하기 위해 사용</p>

<p><code class="language-plaintext highlighter-rouge">-w [DIR]</code>  container의 working directory 변경</p>

<p><code class="language-plaintext highlighter-rouge">-v [HOST_DIR]:[CONTAINER_DIR]</code>   호스트의 특정 디렉토리를 container에 mount</p>

<ul>
  <li>
    <p>e.g. 현재 작업 디렉토리를 container에 mount 하기</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -v `pwd`:/opt ubuntu:22.04
</code></pre></div>    </div>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">-u [USERID]</code>  특정 user id로 container에 접속. image build 시 계정 추가해야 함</p>

<h4 id="실행-중인-container에-명령어-입력">실행 중인 Container에 명령어 입력</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker exec [CONTAINER_ID or NAME] [CMD]
</code></pre></div></div>

<p>실행한 container에서 입력한 cmd 실행</p>

<p><code class="language-plaintext highlighter-rouge">-it</code>  container 환경에서 shell 실행,</p>

<p>run과의 차이점: run은 image에서 container를 실행하는 명령어, exec는 이미 실행 중인 container에만 적용 가능하며, container 환경을 디버깅하는 목적. run으로 실행된 container는 stdin/out 에러 확인 가능하나, exec로 실행된 프로세스는 container가 아님, 로그 확인이나 프로세스 완료 여부를 알기 어렵다</p>


</div>


<div class="related">
  <h2 class="related-title">Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/biomedical%20ai/2024/01/31/WMHandAbTau/">
            [Study] white matter hyperintensity (WMH)와 아밀로이드 베타 (β-amyloid) 및 타우 축적 양상 간의 관계 논문 스터디&nbsp;
            <small>31 Jan 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/biomedical%20ai/2023/08/29/demensiapapers/">
            [Study] 알츠하이머 치매의 ATN 바이오마커 간 관계 정리&nbsp;
            <small>29 Aug 2023</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/biomedical%20ai/2022/05/04/test3/">
            테스트3&nbsp;
            <small>04 May 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
