<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!--site.title site.tagline-->
  <title>
    
      [Paper] Alpaca: A Strong, Replicable Instruction-Following Model &middot; Coffee Chat
    
  </title>

  
  <link rel="canonical" href="https://alatteaday.github.io/papers/2023/05/15/alpaca/">
  

  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/poole.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/syntax.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://alatteaday.github.io/public/favicon.ico/apple-touch-icon.png">
  <link rel="shortcut icon" href="https://alatteaday.github.io/public/favicon.ico/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://alatteaday.github.io/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Curation of studies, techs, ideas and a journey as a maching learning engineer</p>
  </div>

  <nav class="sidebar-nav">

    <a class="sidebar-nav-item" href="https://alatteaday.github.io/about">About</a>
    <a class="sidebar-nav-item" href="https://alatteaday.github.io/">Home</a>
    <a class="sidebar-nav-item" href="https://alatteaday.github.io/tags">Tags</a>

    

    
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
          <a class="sidebar-nav-item" 
          href="https://alatteaday.github.io/about/">About</a>
        
        -->
        
      
    
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/error/">Dev Tips & Fixes</a>
        
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/papers/">Papers</a>
        
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/study/">Study</a>
        
      
    
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
    <!--
    <a class="sidebar-nav-item" href="/archive/v1.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span> 
    -->
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2024. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <!--site.title site.tagline-->
    <div class="wrap">
      <div class="masthead">
        <div class="container" >
          <h3 class="masthead-title">
            <a href="/" title="Home">Coffee Chat</a>
            <small>Brewing AI Knowledge</small>
          </h3>
          <div class="lang-switcher">
    
    
        eng
    

    
    
        
            <a href="/ko/papers/2023/05/15/alpaca/">kor</a>
        
    

</div>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">[Paper] Alpaca: A Strong, Replicable Instruction-Following Model</h1>
  <p class="post-date">15 May 2023&nbsp;&nbsp;&nbsp;&nbsp;
    <!--<span class="post-date">15 May 2023</span>-->
    
      
        
          <span class="tag" data-tag="nlp">
            <a href="https://alatteaday.github.io/tags/?tag=nlp">
              #nlp
            </a>
          </span>
        
      
        
          <span class="tag" data-tag="llm">
            <a href="https://alatteaday.github.io/tags/?tag=llm">
              #llm
            </a>
          </span>
        
      
    
  </p>
  <p><a href="https://crfm.stanford.edu/2023/03/13/alpaca.html">Paper Link</a></p>

<h1 id="points">Points</h1>

<ul>
  <li>Alpaca aims to support academic research on instruction-following large language models (LLMs), addressing deficiencies like hallucinations, toxicity, and biases.</li>
  <li>Uses the self-instruct approach to create an instruction-following dataset with text-davinci-003, costing under $500.</li>
  <li>The LLaMA 7B model is fine-tuned using efficient techniques.</li>
</ul>

<p><br /></p>

<h1 id="background">Background</h1>

<p>LLMs trained through instruction-following, such as ChatGPT, have significantly impacted daily life. However, these models still face issues like generating misinformation, toxic content, and exhibiting social biases. To address these problems, academic research is essential. Closed-source models hinder this research, making it difficult to study instruction-following models.</p>

<p>Alpaca is a model designed for academic research, fine-tuned from the LLaMA 7B model using 52k instruction-following data generated from OpenAI’s text-davinci-003. Commercial use of Alpaca is prohibitied by following reasons:</p>

<ul>
  <li>Non-commercial license: LLaMA</li>
  <li>Data restrictions: Based on text-davinci-003 prohibiting competition with OpenAI</li>
  <li>Deployment caution: Not designed with adequate safety mesuares for general use.</li>
</ul>

<p><br /></p>

<h1 id="training-recipe">Training Recipe</h1>

<p>To train a high-quality instruction-following model under an academic budget, two key challenges are addressed:</p>

<ol>
  <li>Strong pre-trained language model: LLaMA models</li>
  <li>High-quality instruction-following data: Self-instruct method</li>
</ol>

<h2 id="self-instruct-method">Self-instruct method</h2>

<ul>
  <li>Seed set: 175 human-written instruction-following output pairs from self-instruct seed set.</li>
  <li>Data generation: Prompting text-davinci-003 to generate more instructions using the seed set as examples.</li>
  <li>Efficiency: Improved the self-instruct method, generating 52k unique instructions and outputs for less than $500 using the OpenAI API.</li>
</ul>

<p align="center">
   <img src="https://github.com/alatteaday/alatteaday.github.io/blob/gh-pages/post_images/2023-05-15-alpaca/fig1.png?raw=true" alt="fig1" style="zoom: 50%;" />
</p>

<h2 id="fine-tuning-the-model">Fine-tuning the model</h2>

<ul>
  <li>Process: LLaMA models are fine-tuned with the generated instruction-following dataset using fully shared data parallel (FSDP) and mixed precision trianing.</li>
  <li>Cost and time: Fine-tuning a 7B LLaMA model took 3 hours on eight 80GB A100s, costing less than $100 on most cloud compute providers.</li>
</ul>

<p><br /></p>

<h1 id="preliminary-evaluation">Preliminary Evaluation</h1>

<p>Human evaluation was conducted on inputs from the self-instruct evaluation set. Key findings include:</p>
<ul>
  <li>Comparison: Alpaca 7B vs. text-davinci-003</li>
  <li>Performance: Alpaca wins 90 to 89 comparisons.
    <ul>
      <li>Given Alpaca’s smaller size and limited data, it performed similarly to text-davinci-003.</li>
    </ul>
  </li>
  <li>Generation style: Alpaca’s outputs tend to be similar with text-davinci-003, and reflect the general style of the training dataset.</li>
  <li>Evaluation limitation: The evaluation data’s limitations should be noted.</li>
  <li>An interactive demo was released to gather further feedback.</li>
</ul>

<p><br /></p>

<h1 id="known-limitiations">Known Limitiations</h1>

<p>Alpaca shares common deficiencies with LLMs, such as hallucinations, toxicity, and stereotypes. It struggles particularly with hallucination, sometimes producing well-written misinformation. Despite these issues, Alpaca provides a lightweight model for studying these deficiencies, aiding academic research.</p>

<p><br /></p>

<h1 id="release">Release</h1>

<p>Released assets:</p>
<ul>
  <li>Demo: Interactive demo for evaluation</li>
  <li>Data: 52k demonstrations used to fine-tune Alpaca</li>
  <li>Data generation process: Code for generating the data</li>
  <li>Training code: Fine-tuning code using Hugging Face API</li>
</ul>

<p>Future release:</p>
<ul>
  <li>Model weights: Pending guidance from Meta</li>
</ul>

<p>The release aims to support academic studies on instruction-following LMs and developing new technique to address the existing deficiencies.</p>

<p><br /></p>

</div>


<div class="related">
  <h2 class="related-title">Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/paper/2024/06/14/mriqcsurvey/">
            Summaries of papers on MRI Quality Assessment and Control&nbsp;
            <small>14 Jun 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/study/2024/05/28/mriqc_report/">
            [MRIQC 4] MRIQC Report and Image Quality Metrics (IQMs)&nbsp;
            <small>28 May 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/study/dev%20tips%20&%20fixes/2024/05/21/html_flask/">
            [MRIQC 3-1] Opening an HTML file using Flask&nbsp;
            <small>21 May 2024</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


        
          <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        TeX: {
          equationNumbers: {
            autoNumber: "AMS"
          }
        },
        tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$$', '$$$'], ['\\[', '\\]'] ],
        processEscapes: true,
      }
    });
    MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
    MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
</script>
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
        
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
