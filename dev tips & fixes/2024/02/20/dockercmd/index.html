<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!--site.title site.tagline-->
  <title>
    
      Docker CMDs &middot; Coffee Chat
    
  </title>

  
  <link rel="canonical" href="https://alatteaday.github.io/dev%20tips%20&%20fixes/2024/02/20/dockercmd/">
  

  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/poole.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/syntax.css">
  <link rel="stylesheet" href="https://alatteaday.github.io/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://alatteaday.github.io/public/favicon.ico/apple-touch-icon.png">
  <link rel="shortcut icon" href="https://alatteaday.github.io/public/favicon.ico/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://alatteaday.github.io/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Curation of studies, techs, ideas and a journey as a maching learning engineer</p>
  </div>

  <nav class="sidebar-nav">

    <a class="sidebar-nav-item" href="https://alatteaday.github.io/about">About</a>
    <a class="sidebar-nav-item" href="https://alatteaday.github.io/">Home</a>
    <a class="sidebar-nav-item" href="https://alatteaday.github.io/tags">Tags</a>

    

    
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
          <a class="sidebar-nav-item" 
          href="https://alatteaday.github.io/about/">About</a>
        
        -->
        
      
    
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/error/">Dev Tips & Fixes</a>
        
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/papers/">Papers</a>
        
      
    
      
        <!--
        
        -->
        
          <a class="sidebar-nav-item "
          href="https://alatteaday.github.io/category/study/">Study</a>
        
      
    
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
      
        <!--
        
        -->
        
      
    
    <!--
    <a class="sidebar-nav-item" href="/archive/v1.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span> 
    -->
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2024. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <!--site.title site.tagline-->
    <div class="wrap">
      <div class="masthead">
        <div class="container" >
          <h3 class="masthead-title">
            <a href="/" title="Home">Coffee Chat</a>
            <small>Brewing AI Knowledge</small>
          </h3>
          <div class="lang-switcher">
    
    
        eng
    

    
    
        
            <a href="/ko/dev%20tips%20&%20fixes/2024/02/20/dockercmd/">kor</a>
        
    

</div>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Docker CMDs</h1>
  <p class="post-date">20 Feb 2024&nbsp;&nbsp;&nbsp;&nbsp;
    <!--<span class="post-date">20 Feb 2024</span>-->
    
      
        
          <span class="tag" data-tag="docker">
            <a href="https://alatteaday.github.io/tags/?tag=docker">
              #docker
            </a>
          </span>
        
      
    
  </p>
  <h1 id="image">Image</h1>

<h2 id="search-for-an-image">Search for an Image</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker search [OPTIONS] IMAGE_NAME
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--automated=false</code> Show only automated builds</li>
  <li><code class="language-plaintext highlighter-rouge">--no-trunc=false</code> Show all results</li>
  <li><code class="language-plaintext highlighter-rouge">-s=n</code> <code class="language-plaintext highlighter-rouge">--stars=n</code> Show only images with at least n stars</li>
  <li>e.g.,
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker search --stars=100 mysql
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="download-an-image">Download an Image</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull [OPTIONS] IMAGE_NAME[:TAG_NAME]
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-a</code> Download all versions of the image</li>
  <li><code class="language-plaintext highlighter-rouge">TAG_NAME</code> Specify the version to download, if not specified, the latest version is downloaded</li>
  <li>e.g.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ubuntu:22.04
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="list-images">List Images</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker images [OPTIONS] [REPOSITORY]
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-a</code> <code class="language-plaintext highlighter-rouge">--all</code> Show all images</li>
  <li><code class="language-plaintext highlighter-rouge">--digests</code> Show digests</li>
  <li><code class="language-plaintext highlighter-rouge">-q</code> <code class="language-plaintext highlighter-rouge">--quiet</code> Show only image IDs</li>
  <li>*To list containers: <code class="language-plaintext highlighter-rouge">docker ps</code></li>
</ul>

<h2 id="inspect-image-details">Inspect Image Details</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image inspect IMAGE_ID
</code></pre></div></div>
<ul>
  <li>You can enter part of the ID instead of the full ID.</li>
</ul>

<h2 id="delete-an-image">Delete an Image</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi [OPTION] IMAGE_NAME:TAG_NAME
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-f</code> Force delete the image of a running container, but in practice, it only untagged and does not actually delete the image or container.</li>
  <li><em>Delete multiple images at once</em>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi IMAGE_NAME_1 IMAGE_NAME_2 ...
</code></pre></div>    </div>
  </li>
  <li><em>Stop all running containers of a specific image and then delete the image</em>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rm -f $(docker ps -a --filter ancestor=IMAGE_NAME)
docker rmi IMAGE_NAME
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="save-and-load-images">Save and Load Images</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker save -o DIRECTORY IMAGE_NAME
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-o</code> (output) Specify the directory to save the image</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker load -i DIRECTORY
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-i</code> Specify the directory of the image to load (input), the image in that directory is loaded.</li>
</ul>

<h2 id="tag-an-image">Tag an Image</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag IMAGE_NAME:TAG NEW_NAME:NEW_TAG
</code></pre></div></div>
<ul>
  <li>Allows you to reference an existing image with a new name and tag.</li>
  <li>e.g.,
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag ubuntu:22.04 abcd:0.1
</code></pre></div>    </div>
  </li>
</ul>

<p><br /></p>

<h1 id="container">Container</h1>

<h2 id="list-containers">List Containers</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps [OPTION]
</code></pre></div></div>

<ul>
  <li>Lists running containers.</li>
  <li><code class="language-plaintext highlighter-rouge">-a</code> Show all containers, including those that have stopped.</li>
</ul>

<h2 id="inspect-container-details">Inspect Container Details</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker inspect CONTAINER_NAME
</code></pre></div></div>

<h2 id="run-a-container-from-an-image">Run a Container from an Image</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run [OPTIONS] IMAGE_NAME
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--name CONTAINER_NAME</code> Set the container name</li>
  <li><code class="language-plaintext highlighter-rouge">--rm</code> Delete the container after the <code class="language-plaintext highlighter-rouge">run</code> command is executed. One-time use of the container</li>
  <li><code class="language-plaintext highlighter-rouge">-it</code> Keep passing terminal input to the container
    <ul>
      <li><code class="language-plaintext highlighter-rouge">-i</code> Keep stdin open even if not attached</li>
      <li><code class="language-plaintext highlighter-rouge">-t</code> Allocate a pseudo-TTY, use TTY mode to write commands to the shell</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">-d</code> Run the container in the background. When this option is specified, the container ID is output.</li>
  <li><code class="language-plaintext highlighter-rouge">-e</code> Add environment variables. Use as many as you need to add.
    <ul>
      <li>e.g.,
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -e APP_ENV=production APP2_ENV=dev ubuntu:22.04 env
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">-p HOST_PORT:CONTAINER_PORT</code> Bind a specific port of the container connected to the host to the port of the host. Usually used to expose the web server port to the outside.</li>
  <li><code class="language-plaintext highlighter-rouge">-w DIR</code> Change the working directory</li>
  <li><code class="language-plaintext highlighter-rouge">-v HOST_DIR:CONTAINER_DIR</code> Mount a specific directory of the host to the container
    <ul>
      <li>e.g.,
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -v volume:/data ubuntu:22.04
</code></pre></div>        </div>
      </li>
      <li><em>Mount the current working directory to the container</em>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -v `pwd`:/opt ubuntu:22.04
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">-u USER_ID</code> Access the container with a specific user ID. The account must be added when building the image.</li>
</ul>

<h2 id="execute-commands-in-a-running-container">Execute Commands in a Running Container</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker exec CONTAINER_ID or NAME CMD
</code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-it</code> Run the shell in the container environment,</li>
</ul>

<h3 id="difference-between-run-and-exec">Difference between <code class="language-plaintext highlighter-rouge">run</code> and <code class="language-plaintext highlighter-rouge">exec</code></h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">run</code>: Run a container from an image</li>
  <li><code class="language-plaintext highlighter-rouge">exec</code>: Run commands in an already running container</li>
</ul>

<h2 id="stop-a-container">Stop a Container</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stop CONTAINER_ID/NAME
</code></pre></div></div>
<ul>
  <li>Stop a running container (Graceful shutdown)</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker kill CONTAINER_ID/NAME
</code></pre></div></div>
<ul>
  <li>Force stop a running container</li>
</ul>

<h2 id="restart-a-container">Restart a Container</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start CONTAINER_ID/NAME
</code></pre></div></div>
<ul>
  <li>Restart a stopped container</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker restart CONTAINER_ID/NAME
</code></pre></div></div>
<ul>
  <li>Stop and then restart the container</li>
</ul>

<p><br /></p>

</div>


<div class="related">
  <h2 class="related-title">Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/paper/2024/06/14/mriqcsurvey/">
            Summaries of papers on MRI Quality Assessment and Control&nbsp;
            <small>14 Jun 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/study/2024/05/28/mriqc_report/">
            [MRIQC 4] MRIQC Report and Image Quality Metrics (IQMs)&nbsp;
            <small>28 May 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/study/dev%20tips%20&%20fixes/2024/05/21/html_flask/">
            [MRIQC 3-1] Opening an HTML file using Flask&nbsp;
            <small>21 May 2024</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


        
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
